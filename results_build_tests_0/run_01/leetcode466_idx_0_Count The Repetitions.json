{
  "run_index": 1,
  "source_file": "leetcode466.json",
  "problem_index_in_file": 0,
  "problem_data": {
    "title": "Count The Repetitions",
    "description": "We define str = [s, n] as the string str which consists of the string s concatenated n times.\n\nFor example, str == [\"abc\", 3] == \"abcabcabc\".\nWe define that string s1 can be obtained from string s2 if we can remove some characters from s2 such that it becomes s1.\n\nFor example, s1 = \"abc\" can be obtained from s2 = \"abdbec\" based on our definition by removing the bolded underlined characters.\nYou are given two strings s1 and s2 and two integers n1 and n2. You have the two strings str1 = [s1, n1] and str2 = [s2, n2].\n\nReturn the maximum integer m such that str = [str2, m] can be obtained from str1.",
    "examples": [
      {
        "input": "s1 = \"acb\", n1 = 4, s2 = \"ab\", n2 = 2",
        "output": "2"
      },
      {
        "input": "s1 = \"acb\", n1 = 1, s2 = \"acb\", n2 = 1",
        "output": "1"
      }
    ],
    "solution": "class Solution:\n    def getMaxRepetitions(self, s1, n1, s2, n2):\n        from collections import defaultdict\n        \n        if n1 == 0:\n            return 0\n        \n        s1_count = 0\n        s2_count = 0\n        index = 0\n        recall = dict()\n        \n        while s1_count < n1:\n            for ch in s1:\n                if ch == s2[index]:\n                    index += 1\n                    if index == len(s2):\n                        index = 0\n                        s2_count += 1\n            s1_count += 1\n            if index in recall:\n                s1_count_prev, s2_count_prev = recall[index]\n                pre_loop = (s1_count_prev, s2_count_prev)\n                in_loop = (s1_count - s1_count_prev, s2_count - s2_count_prev)\n                break\n            else:\n                recall[index] = (s1_count, s2_count)\n        else:\n            return s2_count // n2\n        \n        ans = pre_loop[1] + ((n1 - pre_loop[0]) // in_loop[0]) * in_loop[1]\n        rest = (n1 - pre_loop[0]) % in_loop[0]\n        s2_count_rest = 0\n        index_rest = index\n        for _ in range(rest):\n            for ch in s1:\n                if ch == s2[index_rest]:\n                    index_rest += 1\n                    if index_rest == len(s2):\n                        index_rest = 0\n                        s2_count_rest += 1\n        ans += s2_count_rest\n        return ans // n2"
  },
  "experiment_result": {
    "success": true,
    "error": null,
    "generated_tests": [
      {
        "input": "['ab', 1, 'ba', 1]\n",
        "output": "0\n"
      },
      {
        "input": "['ab', 2, 'ba', 1]\n",
        "output": "1\n"
      },
      {
        "input": "['ab', 4, 'ba', 1]\n",
        "output": "3\n"
      },
      {
        "input": "['ab', 4, 'ba', 2]\n",
        "output": "1\n"
      },
      {
        "input": "['ab', 4, 'ba', 3]\n",
        "output": "1\n"
      },
      {
        "input": "['ab', 4, 'ba', 4]\n",
        "output": "1\n"
      },
      {
        "input": "['ab', 4, 'ba', 5]\n",
        "output": "0\n"
      },
      {
        "input": "['abc', 0, 'a', 1]\n",
        "output": "0\n"
      },
      {
        "input": "['', 5, 'a', 1]\n",
        "output": "0\n"
      },
      {
        "input": "['a', 1, 'aa', 1]\n",
        "output": "0\n"
      },
      {
        "input": "['a', 100, 'a', 1]\n",
        "output": "100\n"
      },
      {
        "input": "['a', 100, 'a', 2]\n",
        "output": "50\n"
      },
      {
        "input": "['a', 100, 'a', 3]\n",
        "output": "33\n"
      },
      {
        "input": "['a', 100, 'a', 101]\n",
        "output": "0\n"
      },
      {
        "input": "['abc', 3, 'abc', 1]\n",
        "output": "3\n"
      },
      {
        "input": "['abc', 3, 'abc', 2]\n",
        "output": "1\n"
      },
      {
        "input": "['abc', 3, 'abc', 3]\n",
        "output": "0\n"
      },
      {
        "input": "['abc', 3, 'abc', 4]\n",
        "output": "0\n"
      },
      {
        "input": "['abc', 3, 'abc', 5]\n",
        "output": "0\n"
      },
      {
        "input": "['ab', 1000000, 'ba', 1]\n",
        "output": "500000\n"
      },
      {
        "input": "['ab', 1000000, 'ba', 2]\n",
        "output": "500000\n"
      },
      {
        "input": "['ab', 1000000, 'ba', 3]\n",
        "output": "333333\n"
      },
      {
        "input": "['abc', 1000000, 'abc', 1]\n",
        "output": "1000000\n"
      },
      {
        "input": "['abc', 1000000, 'abc', 2]\n",
        "output": "500000\n"
      },
      {
        "input": "['abc', 1000000, 'abc', 3]\n",
        "output": "333333\n"
      }
    ],
    "parsed_tests": [
      "('getMaxRepetitions', ('ab', 1, 'ba', 1), 0)",
      "('getMaxRepetitions', ('ab', 2, 'ba', 1), 1)",
      "('getMaxRepetitions', ('ab', 4, 'ba', 1), 3)",
      "('getMaxRepetitions', ('ab', 4, 'ba', 2), 1)",
      "('getMaxRepetitions', ('ab', 4, 'ba', 3), 1)",
      "('getMaxRepetitions', ('ab', 4, 'ba', 4), 1)",
      "('getMaxRepetitions', ('ab', 4, 'ba', 5), 0)",
      "('getMaxRepetitions', ('abc', 0, 'a', 1), 0)",
      "('getMaxRepetitions', ('', 5, 'a', 1), 0)",
      "('getMaxRepetitions', ('a', 1, 'aa', 1), 0)",
      "('getMaxRepetitions', ('a', 100, 'a', 1), 100)",
      "('getMaxRepetitions', ('a', 100, 'a', 2), 50)",
      "('getMaxRepetitions', ('a', 100, 'a', 3), 33)",
      "('getMaxRepetitions', ('a', 100, 'a', 101), 0)",
      "('getMaxRepetitions', ('abc', 3, 'abc', 1), 3)",
      "('getMaxRepetitions', ('abc', 3, 'abc', 2), 1)",
      "('getMaxRepetitions', ('abc', 3, 'abc', 3), 0)",
      "('getMaxRepetitions', ('abc', 3, 'abc', 4), 0)",
      "('getMaxRepetitions', ('abc', 3, 'abc', 5), 0)",
      "('getMaxRepetitions', ('ab', 1000000, 'ba', 1), 500000)",
      "('getMaxRepetitions', ('ab', 1000000, 'ba', 2), 500000)",
      "('getMaxRepetitions', ('ab', 1000000, 'ba', 3), 333333)",
      "('getMaxRepetitions', ('abc', 1000000, 'abc', 1), 1000000)",
      "('getMaxRepetitions', ('abc', 1000000, 'abc', 2), 500000)",
      "('getMaxRepetitions', ('abc', 1000000, 'abc', 3), 333333)"
    ],
    "runlog": "[測試#1] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 1, 'ba', 1)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#2] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 2, 'ba', 1)\n  標準輸出: 1\n  你的輸出: 1\n\n[測試#3] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 4, 'ba', 1)\n  標準輸出: 3\n  你的輸出: 3\n\n[測試#4] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 4, 'ba', 2)\n  標準輸出: 1\n  你的輸出: 1\n\n[測試#5] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 4, 'ba', 3)\n  標準輸出: 1\n  你的輸出: 1\n\n[測試#6] ❌ 失敗\n  標準輸入: getMaxRepetitions('ab', 4, 'ba', 4)\n  標準輸出: 1\n  你的輸出: 0\n\n[測試#7] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 4, 'ba', 5)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#8] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 0, 'a', 1)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#9] ✅ 通過\n  標準輸入: getMaxRepetitions('', 5, 'a', 1)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#10] ✅ 通過\n  標準輸入: getMaxRepetitions('a', 1, 'aa', 1)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#11] ✅ 通過\n  標準輸入: getMaxRepetitions('a', 100, 'a', 1)\n  標準輸出: 100\n  你的輸出: 100\n\n[測試#12] ✅ 通過\n  標準輸入: getMaxRepetitions('a', 100, 'a', 2)\n  標準輸出: 50\n  你的輸出: 50\n\n[測試#13] ✅ 通過\n  標準輸入: getMaxRepetitions('a', 100, 'a', 3)\n  標準輸出: 33\n  你的輸出: 33\n\n[測試#14] ✅ 通過\n  標準輸入: getMaxRepetitions('a', 100, 'a', 101)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#15] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 3, 'abc', 1)\n  標準輸出: 3\n  你的輸出: 3\n\n[測試#16] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 3, 'abc', 2)\n  標準輸出: 1\n  你的輸出: 1\n\n[測試#17] ❌ 失敗\n  標準輸入: getMaxRepetitions('abc', 3, 'abc', 3)\n  標準輸出: 0\n  你的輸出: 1\n\n[測試#18] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 3, 'abc', 4)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#19] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 3, 'abc', 5)\n  標準輸出: 0\n  你的輸出: 0\n\n[測試#20] ❌ 失敗\n  標準輸入: getMaxRepetitions('ab', 1000000, 'ba', 1)\n  標準輸出: 500000\n  你的輸出: 999999\n\n[測試#21] ❌ 失敗\n  標準輸入: getMaxRepetitions('ab', 1000000, 'ba', 2)\n  標準輸出: 500000\n  你的輸出: 499999\n\n[測試#22] ✅ 通過\n  標準輸入: getMaxRepetitions('ab', 1000000, 'ba', 3)\n  標準輸出: 333333\n  你的輸出: 333333\n\n[測試#23] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 1000000, 'abc', 1)\n  標準輸出: 1000000\n  你的輸出: 1000000\n\n[測試#24] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 1000000, 'abc', 2)\n  標準輸出: 500000\n  你的輸出: 500000\n\n[測試#25] ✅ 通過\n  標準輸入: getMaxRepetitions('abc', 1000000, 'abc', 3)\n  標準輸出: 333333\n  你的輸出: 333333\n\n=== 測試完成 (21/25) ===\n[警告] 部分測資未通過 ❌（0.0001s）\n",
    "all_passed": false,
    "total_tests": 25,
    "passed_count": 21,
    "accuracy_rate": 0.84
  }
}