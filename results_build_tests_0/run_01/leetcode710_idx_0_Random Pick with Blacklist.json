{
  "run_index": 1,
  "source_file": "leetcode710.json",
  "problem_index_in_file": 0,
  "problem_data": {
    "title": "Random Pick with Blacklist",
    "description": "You are given an integer n and an array of unique integers blacklist. Design an algorithm to pick a random integer in the range [0, n - 1] that is not in blacklist. Any integer that is in the mentioned range and not in blacklist should be equally likely to be returned.\\n\\nOptimize your algorithm such that it minimizes the number of calls to the built-in random function of your language.\n\nImplement the Solution class:\n\nSolution(int n, int[] blacklist) Initializes the object with the integer n and the blacklisted integers blacklist.\n\nint pick() Returns a random integer in the range [0, n - 1] and not in blacklist.",
    "examples": [
      {
        "input": "[\"Solution\", \"pick\", \"pick\", \"pick\", \"pick\", \"pick\", \"pick\", \"pick\"]\n[[7, [2, 3, 5]], [], [], [], [], [], [], []]",
        "output": "[null, 0, 4, 1, 6, 1, 0, 4]",
        "explanation": "Solution solution = new Solution(7, [2, 3, 5]);\\nsolution.pick(); // return 0, any integer from [0,1,4,6] equally likely\\nsolution.pick(); // return 4\\nsolution.pick(); // return 1\\nsolution.pick(); // return 6\\nsolution.pick(); // return 1\\nsolution.pick(); // return 0\\nsolution.pick(); // return 4"
      }
    ],
    "solution": "import random\n\nclass Solution:\n    def __init__(self, n, blacklist):\n        self.mapping = {}\n        self.size = n - len(blacklist)\n        black = set(blacklist)\n        last = n - 1\n        for b in blacklist:\n            if b < self.size:\n                while last in black:\n                    last -= 1\n                self.mapping[b] = last\n                last -= 1\n\n    def pick(self):\n        index = random.randint(0, self.size - 1)\n        return self.mapping.get(index, index)"
  },
  "experiment_result": {
    "success": true,
    "error": null,
    "generated_tests": [
      {
        "input": "5\n[3]\n",
        "output": "[0, 1, 2, 4]\n"
      },
      {
        "input": "1\n[]\n",
        "output": "[0]\n"
      },
      {
        "input": "10\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\n",
        "output": "[9]\n"
      },
      {
        "input": "10\n[9]\n",
        "output": "[0, 1, 2, 3, 4, 5, 6, 7, 8]\n"
      },
      {
        "input": "10\n[0, 2, 4, 6, 8]\n",
        "output": "[1, 3, 5, 7, 9]\n"
      },
      {
        "input": "5\n[0, 1, 2]\n",
        "output": "[3, 4]\n"
      },
      {
        "input": "5\n[4]\n",
        "output": "[0, 1, 2, 3]\n"
      },
      {
        "input": "5\n[2]\n",
        "output": "[0, 1, 3, 4]\n"
      },
      {
        "input": "5\n[0, 4]\n",
        "output": "[1, 2, 3]\n"
      },
      {
        "input": "7\n[1, 3, 5]\n",
        "output": "[0, 2, 4, 6]\n"
      }
    ],
    "parsed_tests": [
      "('pick', ('5\\n[3]\\n',), [0, 1, 2, 4])",
      "('pick', ('1\\n[]\\n',), [0])",
      "('pick', ('10\\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\\n',), [9])",
      "('pick', ('10\\n[9]\\n',), [0, 1, 2, 3, 4, 5, 6, 7, 8])",
      "('pick', ('10\\n[0, 2, 4, 6, 8]\\n',), [1, 3, 5, 7, 9])",
      "('pick', ('5\\n[0, 1, 2]\\n',), [3, 4])",
      "('pick', ('5\\n[4]\\n',), [0, 1, 2, 3])",
      "('pick', ('5\\n[2]\\n',), [0, 1, 3, 4])",
      "('pick', ('5\\n[0, 4]\\n',), [1, 2, 3])",
      "('pick', ('7\\n[1, 3, 5]\\n',), [0, 2, 4, 6])"
    ],
    "runlog": "[錯誤] 無法以零參數建立 Solution 實例: Solution.__init__() missing 2 required positional arguments: 'n' and 'blacklist'\n",
    "all_passed": false,
    "total_tests": 10,
    "passed_count": 0,
    "accuracy_rate": 0.0
  }
}